<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Countdown to Your Gift</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');

html, body {
  margin: 0;
  padding: 0;
  font-family: 'Poppins', sans-serif;
  overflow: hidden;
  background: radial-gradient(ellipse at bottom, #000011 0%, #000033 100%);
  height: 100vh;
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  color: #fff;
  perspective: 1000px;
}

h1 {
  font-size: 2.2rem;
  margin-bottom: 30px;
  text-align: center;
  text-shadow: 0 0 20px #fff;
}

.timer {
  display: flex;
  gap: 15px;
  justify-content: center;
  align-items: center;
  font-size: 2.5rem;
}

.digit-container {
  position: relative;
  width: 70px;
  height: 90px;
  perspective: 1000px;
}

.digit {
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, #222244, #444466);
  border-radius: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 3rem;
  font-weight: 600;
  color: #fff;
  position: relative;
  overflow: hidden;
}

.flip-top, .flip-bottom {
  position: absolute;
  left: 0;
  width: 100%;
  height: 50%;
  backface-visibility: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.flip-top {
  top: 0;
  transform-origin: bottom;
  background: linear-gradient(to bottom, #333366, #111144);
}

.flip-bottom {
  bottom: 0;
  transform-origin: top;
  background: linear-gradient(to bottom, #111144, #333366);
}

.flip-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

#openButton {
  margin-top: 50px;
  padding: 18px 35px;
  font-size: 1.6rem;
  border: none;
  border-radius: 12px;
  background: linear-gradient(to right, #00c6ff, #0072ff);
  color: #fff;
  cursor: pointer;
  display: none;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  box-shadow: 0 0 20px #00c6ff;
}

#openButton:hover {
  transform: scale(1.1);
  box-shadow: 0 0 40px #00c6ff;
}

/* Stars and cosmic elements */
.star, .twinkle {
  position: absolute;
  border-radius: 50%;
  background: #fff;
  opacity: 0.8;
}

.twinkle {
  animation: twinkle 2s infinite alternate;
}

@keyframes twinkle {
  0% { opacity: 0.3; }
  100% { opacity: 1; }
}

.shooting-star {
  position: absolute;
  width: 3px;
  height: 100px;
  background: linear-gradient(white, transparent);
  opacity: 0.8;
  transform: rotate(45deg);
  animation: shooting 1s linear forwards;
}

@keyframes shooting {
  0% { transform: translateY(0) rotate(45deg); opacity: 1; }
  100% { transform: translateY(500px) translateX(-500px) rotate(45deg); opacity: 0; }
}

.particle {
  position: absolute;
  width: 2px;
  height: 2px;
  background: white;
  opacity: 0.5;
  border-radius: 50%;
  animation: drift 20s linear infinite;
}

@keyframes drift {
  0% { transform: translate(0,0);}
  100% { transform: translate(100px, -200px);}
}

@media screen and (max-width: 500px) {
  .digit-container { width: 50px; height: 65px; }
  .digit { font-size: 2rem; }
  .timer { gap: 10px; font-size: 1.8rem; }
  h1 { font-size: 1.5rem; }
  #openButton { font-size: 1.3rem; padding: 12px 25px; }
}
</style>
</head>
<body>
<h1>Wait for 1st November</h1>
<div class="timer">
  <div class="digit-container"><div id="days" class="digit">00</div></div>
  <div class="digit-container"><div id="hours" class="digit">00</div></div>
  <div class="digit-container"><div id="minutes" class="digit">00</div></div>
  <div class="digit-container"><div id="seconds" class="digit">00</div></div>
</div>
<button id="openButton" onclick="window.location.href='home.html'">Open Your Gift</button>

<audio id="bgMusic" autoplay loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<script>
  const targetDate = new Date("November 1, 2025 00:00:00").getTime();
  const daysEl = document.getElementById("days");
  const hoursEl = document.getElementById("hours");
  const minutesEl = document.getElementById("minutes");
  const secondsEl = document.getElementById("seconds");
  const openButton = document.getElementById("openButton");

  let prevDays = '', prevHours = '', prevMinutes = '', prevSeconds = '';

  function flipDigit(element, newValue, prevValue){
    if(prevValue === newValue) return;
    const top = document.createElement("div");
    top.className = "flip-top";
    top.innerText = prevValue;

    const bottom = document.createElement("div");
    bottom.className = "flip-bottom";
    bottom.innerText = newValue;

    const container = document.createElement("div");
    container.className = "flip-container";
    container.appendChild(top);
    container.appendChild(bottom);
    element.appendChild(container);

    top.style.transform = "rotateX(0deg)";
    bottom.style.transform = "rotateX(90deg)";

    setTimeout(()=>{
      top.style.transform = "rotateX(-90deg)";
      bottom.style.transform = "rotateX(0deg)";
    },50);

    setTimeout(()=>{ container.remove(); },600);
    element.innerText = newValue;
  }

  function updateTimer() {
    const now = new Date().getTime();
    const distance = targetDate - now;

    if(distance <= 0){
      clearInterval(timerInterval);
      daysEl.innerText = "00";
      hoursEl.innerText = "00";
      minutesEl.innerText = "00";
      secondsEl.innerText = "00";
      openButton.style.display = "block";
      return;
    }

    let days = Math.floor(distance / (1000*60*60*24));
    let hours = Math.floor((distance % (1000*60*60*24))/(1000*60*60));
    let minutes = Math.floor((distance % (1000*60*60))/(1000*60));
    let seconds = Math.floor((distance % (1000*60))/1000);

    days = days<10?"0"+days:days;
    hours = hours<10?"0"+hours:hours;
    minutes = minutes<10?"0"+minutes:minutes;
    seconds = seconds<10?"0"+seconds:seconds;

    flipDigit(daysEl,days,prevDays);
    flipDigit(hoursEl,hours,prevHours);
    flipDigit(minutesEl,minutes,prevMinutes);
    flipDigit(secondsEl,seconds,prevSeconds);

    prevDays = days;
    prevHours = hours;
    prevMinutes = minutes;
    prevSeconds = seconds;
  }

  const timerInterval = setInterval(updateTimer,1000);
  updateTimer();

  // Shooting stars
  function createShootingStar(){
    const star = document.createElement("div");
    star.classList.add("shooting-star");
    star.style.left = Math.random() * window.innerWidth + "px";
    star.style.top = Math.random() * window.innerHeight/2 + "px";
    star.style.animationDuration = (Math.random()*1+0.5) + "s";
    document.body.appendChild(star);
    setTimeout(()=>star.remove(),1500);
  }

  setInterval(()=>{
    if(Math.random()<0.03) createShootingStar();
  },100);

  // Twinkling stars
  for(let i=0;i<80;i++){
    const star = document.createElement("div");
    star.classList.add("star","twinkle");
    star.style.width = Math.random()*2+1+"px";
    star.style.height = star.style.width;
    star.style.left = Math.random()*window.innerWidth+"px";
    star.style.top = Math.random()*window.innerHeight+"px";
    star.style.opacity = Math.random();
    document.body.appendChild(star);
  }

  // Floating particles
  for(let i=0;i<50;i++){
    const p = document.createElement("div");
    p.classList.add("particle");
    p.style.left = Math.random()*window.innerWidth+"px";
    p.style.top = Math.random()*window.innerHeight+"px";
    document.body.appendChild(p);
  }

</script>
</body>
</html>